{% extends 'layouts.html' %}


{% block title_suffix %}Users managements{% endblock title_suffix %}

{% block navbar_li %}
    <li><a href="{{ url_for('index')}}">Main page</a></li>
    <li><a href="{{ url_for('logout') }}">Logout</a></li>
{% endblock navbar_li %}

{% block content %}
<form action="{{ url_for('user_page')}}" method="GET" name="search">
		<h5> Search user:  {{form.search(size=40)}} by: {{form.field_by() }}
			<input type="submit" value="Search"> </h5>
</form>
	<div class="table-responsive">
    <form action="{{ url_for('user_page') }}" method="GET">
		<table class="table table-bordered table-striped">
			<tr>
				<th>Id</th>
				<th>User</th>
				<th>Alias</th>
				<th>E-mail</th>
				<th>Role
                 <input type="checkbox" name="role_checkbox" value="role_id"/>
                </th>
				<th>Avatar</th>
				<th>Delete date
                <input type="checkbox" name="delete_date_checkbox" value="delete_date"/>
                </th>
				<th></th>
				<th></th>
			</tr>
			{% for user, role in users %}
				<tr>
					<td>{{ user.id }}</td>
					<td>{{ user.name }}</td>
					<td>{{ user.alias }}</td>
					<td>{{ user.email }}</td>
					<td>{{ role.role }}</td>
					<td>{{ user.avatar }}</td>
					<td>{{ user.delete_date }}</td>
					<td><a href="{{ url_for('user_modify', users_id=user.id) }}" class="btn btn-primary">Edit</a></td>
					<td><a href="{{ url_for('delete_user', users_id=user.id) }}" class="btn btn-danger">Delete</a></td>
				</tr>
			{% endfor %}
		</table>
    <input type="submit" class="btn btn-success" name="Sort" value="Sort">
    </form>
	</div>
		<a href="{{ url_for('user_add') }}" class="btn btn-success">Add new user</a>
{% endblock %}